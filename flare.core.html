<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>flare.core documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Flare</span> <span class="project-version">0.1.0-SNAPSHOT</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>flare</span></div></div></li><li class="depth-2 branch"><a href="flare.cache-pool.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>cache-pool</span></div></a></li><li class="depth-2 branch"><a href="flare.cnn.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>cnn</span></div></a></li><li class="depth-2 branch"><a href="flare.computation-graph.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>computation-graph</span></div></a></li><li class="depth-2 branch"><a href="flare.compute.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>compute</span></div></a></li><li class="depth-2 branch current"><a href="flare.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2 branch"><a href="flare.embeddings.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>embeddings</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>examples</span></div></div></li><li class="depth-3 branch"><a href="flare.examples.logistic-regression.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>logistic-regression</span></div></a></li><li class="depth-3"><a href="flare.examples.sentence-classification.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>sentence-classification</span></div></a></li><li class="depth-2 branch"><a href="flare.generic-tensor-ops.html"><div class="inner"><span class="tree" style="top: -83px;"><span class="top" style="height: 92px;"></span><span class="bottom"></span></span><span>generic-tensor-ops</span></div></a></li><li class="depth-2 branch"><a href="flare.graph.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>graph</span></div></a></li><li class="depth-2 branch"><a href="flare.model.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>model</span></div></a></li><li class="depth-2 branch"><a href="flare.module.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>module</span></div></a></li><li class="depth-2 branch"><a href="flare.neanderthal-ops.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>neanderthal-ops</span></div></a></li><li class="depth-2 branch"><a href="flare.node.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>node</span></div></a></li><li class="depth-2 branch"><a href="flare.optimize.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>optimize</span></div></a></li><li class="depth-2 branch"><a href="flare.report.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>report</span></div></a></li><li class="depth-2 branch"><a href="flare.rnn.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>rnn</span></div></a></li><li class="depth-2"><a href="flare.train.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>train</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="flare.core.html#var--InternalPTensorFactory"><div class="inner"><span>-InternalPTensorFactory</span></div></a></li><li class="depth-2"><a href="flare.core.html#var-debug-info"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>debug-info</span></div></a></li><li class="depth-1"><a href="flare.core.html#var-cache"><div class="inner"><span>cache</span></div></a></li><li class="depth-1"><a href="flare.core.html#var-from"><div class="inner"><span>from</span></div></a></li><li class="depth-1"><a href="flare.core.html#var-guess-shape"><div class="inner"><span>guess-shape</span></div></a></li><li class="depth-1"><a href="flare.core.html#var-init.21"><div class="inner"><span>init!</span></div></a></li><li class="depth-1"><a href="flare.core.html#var-PTensorFactory"><div class="inner"><span>PTensorFactory</span></div></a></li><li class="depth-2 branch"><a href="flare.core.html#var--from"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>-from</span></div></a></li><li class="depth-2 branch"><a href="flare.core.html#var--zeros"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>-zeros</span></div></a></li><li class="depth-2"><a href="flare.core.html#var-get-op"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>get-op</span></div></a></li><li class="depth-1"><a href="flare.core.html#var-scalar-shape.3F"><div class="inner"><span>scalar-shape?</span></div></a></li><li class="depth-1"><a href="flare.core.html#var-set.21"><div class="inner"><span>set!</span></div></a></li><li class="depth-1"><a href="flare.core.html#var-state"><div class="inner"><span>state</span></div></a></li><li class="depth-1"><a href="flare.core.html#var-Tensor"><div class="inner"><span>Tensor</span></div></a></li><li class="depth-2 branch"><a href="flare.core.html#var-add"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>add</span></div></a></li><li class="depth-2 branch"><a href="flare.core.html#var-add.21"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>add!</span></div></a></li><li class="depth-2 branch"><a href="flare.core.html#var-copy.21"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>copy!</span></div></a></li><li class="depth-2 branch"><a href="flare.core.html#var-div"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>div</span></div></a></li><li class="depth-2 branch"><a href="flare.core.html#var-div.21"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>div!</span></div></a></li><li class="depth-2 branch"><a href="flare.core.html#var-factory"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>factory</span></div></a></li><li class="depth-2 branch"><a href="flare.core.html#var-mult"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>mult</span></div></a></li><li class="depth-2 branch"><a href="flare.core.html#var-mult.21"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>mult!</span></div></a></li><li class="depth-2 branch"><a href="flare.core.html#var-pow"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>pow</span></div></a></li><li class="depth-2 branch"><a href="flare.core.html#var-pow.21"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>pow!</span></div></a></li><li class="depth-2 branch"><a href="flare.core.html#var-scale"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>scale</span></div></a></li><li class="depth-2 branch"><a href="flare.core.html#var-scale.21"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>scale!</span></div></a></li><li class="depth-2 branch"><a href="flare.core.html#var-select.21"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>select!</span></div></a></li><li class="depth-2 branch"><a href="flare.core.html#var-shape"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>shape</span></div></a></li><li class="depth-2 branch"><a href="flare.core.html#var-transform"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>transform</span></div></a></li><li class="depth-2"><a href="flare.core.html#var-transform.21"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>transform!</span></div></a></li><li class="depth-1"><a href="flare.core.html#var-validate-shape.21"><div class="inner"><span>validate-shape!</span></div></a></li><li class="depth-1"><a href="flare.core.html#var-vector-shape.3F"><div class="inner"><span>vector-shape?</span></div></a></li><li class="depth-1"><a href="flare.core.html#var-zeros"><div class="inner"><span>zeros</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">flare.core</h1><div class="doc"><div class="markdown"></div></div><div class="public anchor" id="var--InternalPTensorFactory"><h3>-InternalPTensorFactory</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>protocols for internal understanding of performance/correctness, not meant to be used except by ‘experts’</p></div></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-debug-info"><h3>debug-info</h3><div class="usage"><code>(debug-info this)</code></div><div class="doc"><div class="markdown"><p>map of debug/perf info</p></div></div></div></div></div><div class="src-link"><a href="https://github.com/aria42/flare/tree/master/src/flare/core.clj#L132">view source</a></div></div><div class="public anchor" id="var-cache"><h3>cache</h3><div class="usage"><code>(cache factory num-to-cache)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/aria42/flare/tree/master/src/flare/core.clj#L137">view source</a></div></div><div class="public anchor" id="var-from"><h3>from</h3><div class="usage"><code>(from factory data)</code><code>(from data)</code></div><div class="doc"><div class="markdown"><p>coerce data into a tensor, should work with nested clojure seqs of numbers</p></div></div><div class="src-link"><a href="https://github.com/aria42/flare/tree/master/src/flare/core.clj#L196">view source</a></div></div><div class="public anchor" id="var-guess-shape"><h3>guess-shape</h3><div class="usage"><code>(guess-shape nums)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/aria42/flare/tree/master/src/flare/core.clj#L107">view source</a></div></div><div class="public anchor" id="var-init.21"><h3>init!</h3><div class="usage"><code>(init!)</code><code>(init! num-to-cache)</code></div><div class="doc"><div class="markdown"><p>Defaults the state of flare with following * eager? is true, so all graph ops eagerly compute forward * factory is neanderthal (only good tensor impl) * a cache with <code>num-to-cache</code> (defaults to 1,000)</p></div></div><div class="src-link"><a href="https://github.com/aria42/flare/tree/master/src/flare/core.clj#L203">view source</a></div></div><div class="public anchor" id="var-PTensorFactory"><h3>PTensorFactory</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>A <code>PTensorFactory</code> knows how to make and manipulate tensors. The tensor  type depends on the <code>PTensorFactory</code>, but there are some conventions  tensors should have:</p>
<pre><code>* Tensors should be seqable (might revisit this)
* Tensors are mutable objects (duh, performance)
</code></pre>
<p>For external API use, use the <code>zeros</code> and <code>from</code> wrappers below which can default the tensor factory</p></div></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var--from"><h3>-from</h3><div class="usage"><code>(-from this data)</code></div><div class="doc"><div class="markdown"><p>create a tensor from <code>data</code> (satisfies <code>Tensor</code>). Should minimally accept (nested) sequences of numbers, but can also effectively copy an existing tensor</p></div></div></div><div class="public anchor" id="var--zeros"><h3>-zeros</h3><div class="usage"><code>(-zeros this shape)</code></div><div class="doc"><div class="markdown"><p>create a 0.0 filled tensor of a given shape</p></div></div></div><div class="public anchor" id="var-get-op"><h3>get-op</h3><div class="usage"><code>(get-op this op-key)</code></div><div class="doc"><div class="markdown"><p>returns the <code>TensorOp</code> associated with the <code>op-key</code></p></div></div></div></div></div><div class="src-link"><a href="https://github.com/aria42/flare/tree/master/src/flare/core.clj#L10">view source</a></div></div><div class="public anchor" id="var-scalar-shape.3F"><h3>scalar-shape?</h3><div class="usage"><code>(scalar-shape? shape)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/aria42/flare/tree/master/src/flare/core.clj#L121">view source</a></div></div><div class="public anchor" id="var-set.21"><h3>set!</h3><div class="usage"><code>(set! init-state)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/aria42/flare/tree/master/src/flare/core.clj#L181">view source</a></div></div><div class="public anchor" id="var-state"><h3>state</h3><div class="usage"><code>(state)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/aria42/flare/tree/master/src/flare/core.clj#L169">view source</a></div></div><div class="public anchor" id="var-Tensor"><h3>Tensor</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-add"><h3>add</h3><div class="usage"><code>(add this other)</code><code>(add this scale other)</code></div><div class="doc"><div class="markdown"><p>return new tensor which adds this to <code>other</code> and possibly scales <code>other</code> by scalar <code>scale</code></p></div></div></div><div class="public anchor" id="var-add.21"><h3>add!</h3><div class="usage"><code>(add! this other)</code><code>(add! this scale other)</code></div><div class="doc"><div class="markdown"><p>mutable version of <code>add</code> that updates <code>this</code></p></div></div></div><div class="public anchor" id="var-copy.21"><h3>copy!</h3><div class="usage"><code>(copy! this src-tensor-like)</code></div><div class="doc"><div class="markdown"><p>copy from source to this tensor. The src should be same set of things accdepted by <code>PTensorFactory/from</code></p></div></div></div><div class="public anchor" id="var-div"><h3>div</h3><div class="usage"><code>(div this denom)</code><code>(div this denom-offset denom)</code><code>(div this numer-offset other denom-offset)</code></div><div class="doc"><div class="markdown"><p>return new tensor element-wise divide by <code>denom</code> possibly with  offsets for numerator or denominator offset result = (this + numer-offset) / (other + denom-offset)</p></div></div></div><div class="public anchor" id="var-div.21"><h3>div!</h3><div class="usage"><code>(div! this denom)</code><code>(div! this denom-offset denom)</code><code>(div! this numer-offset other denom-offset)</code></div><div class="doc"><div class="markdown"><p>mutable version of <code>div</code></p></div></div></div><div class="public anchor" id="var-factory"><h3>factory</h3><div class="usage"><code>(factory this)</code></div><div class="doc"><div class="markdown"><p>returns <code>PTensorFactory</code> underlying this tensor</p></div></div></div><div class="public anchor" id="var-mult"><h3>mult</h3><div class="usage"><code>(mult this other)</code></div><div class="doc"><div class="markdown"><p>return new pointwise multiplication tensor</p></div></div></div><div class="public anchor" id="var-mult.21"><h3>mult!</h3><div class="usage"><code>(mult! this other)</code></div><div class="doc"><div class="markdown"><p>pointwise in-place multiplication</p></div></div></div><div class="public anchor" id="var-pow"><h3>pow</h3><div class="usage"><code>(pow this exp)</code></div><div class="doc"><div class="markdown"><p>element-wise exponeniate</p></div></div></div><div class="public anchor" id="var-pow.21"><h3>pow!</h3><div class="usage"><code>(pow! this exp)</code></div><div class="doc"><div class="markdown"><p>in-place element-wise exponetiationate</p></div></div></div><div class="public anchor" id="var-scale"><h3>scale</h3><div class="usage"><code>(scale this alpha)</code></div><div class="doc"><div class="markdown"><p>return sclaed tensor</p></div></div></div><div class="public anchor" id="var-scale.21"><h3>scale!</h3><div class="usage"><code>(scale! this alpha)</code></div><div class="doc"><div class="markdown"><p>mutate scale</p></div></div></div><div class="public anchor" id="var-select.21"><h3>select!</h3><div class="usage"><code>(select! this path)</code></div><div class="doc"><div class="markdown"><p>live-link to sub-tensor @ path. The <code>path</code> length should be less than number of dimensions. The returned object should be linked to the parent and changes should be reflected.</p></div></div></div><div class="public anchor" id="var-shape"><h3>shape</h3><div class="usage"><code>(shape this)</code></div><div class="doc"><div class="markdown"><p>return the shape of the tennsor as integer (clojure) vector</p></div></div></div><div class="public anchor" id="var-transform"><h3>transform</h3><div class="usage"><code>(transform this get-val)</code><code>(transform this other-tensor get-val)</code></div><div class="doc"><div class="markdown"><p>Create a new <code>tensor</code> using the <code>get-val</code> function, which can be a few different things</p>
<p>[this get-val]  ==============================  * A fixed double to fill <code>tensor</code>  * A <code>IFn$ODD</code> primitive function taking (dims, existing) which  returns new value for the position</p>
<p>[this other-tensor get-val]  ================================  Assumes other-tensor shape matches tensor  * <code>IFn$DDD</code> takes (cur-val, other-val) and returns new value  * <code>IFn$ODDD</code> takes (position, cur-val, other-val) and position  is the long-array of the location</p></div></div></div><div class="public anchor" id="var-transform.21"><h3>transform!</h3><div class="usage"><code>(transform! this get-val)</code><code>(transform! this other-tensor get-val)</code></div><div class="doc"><div class="markdown"><p>mutable version of <code>transform!</code> that updates <code>this</code></p></div></div></div></div></div><div class="src-link"><a href="https://github.com/aria42/flare/tree/master/src/flare/core.clj#L29">view source</a></div></div><div class="public anchor" id="var-validate-shape.21"><h3>validate-shape!</h3><div class="usage"><code>(validate-shape! expected-shape given-shape)</code><code>(validate-shape! key expected-shape given-shape)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/aria42/flare/tree/master/src/flare/core.clj#L124">view source</a></div></div><div class="public anchor" id="var-vector-shape.3F"><h3>vector-shape?</h3><div class="usage"><code>(vector-shape? shape)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/aria42/flare/tree/master/src/flare/core.clj#L118">view source</a></div></div><div class="public anchor" id="var-zeros"><h3>zeros</h3><div class="usage"><code>(zeros shape)</code><code>(zeros factory shape &amp; {:keys [no-cache?]})</code></div><div class="doc"><div class="markdown"><p>create a zero tensor with given shape using default tensor factory. Unless <code>:no-cache?</code> is passed in will use cache if avaialble</p></div></div><div class="src-link"><a href="https://github.com/aria42/flare/tree/master/src/flare/core.clj#L185">view source</a></div></div></div></body></html>